
<div fxFlex class="input-component-holder mat-elevation-z4">
  
    
    <mat-toolbar class="input-header">
        <h1 class="mat headline center-align"> Adauga un proiect </h1>
        
        <input style="display: none;" type="file" #fileInput>
        <button mat-button type="button" (click)="fileInput.click()">
            <mat-icon> file_upload </mat-icon>
            <span> Importa Proiect </span>
        </button>
    </mat-toolbar>

    <form [formGroup]="createProjectForm" class="input-container" (ngSubmit)="createProjectForm.valid && createProject()">

        <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">

            <div fxFlex.xs="100" fxFlex.lg="50" fxFlex.md="50" fxFlex.sm="50">
                <mat-form-field class="example-full-width">
                    <input matInput placeholder="Titlu proiect" formControlName="titleControl">
                    <mat-error *ngIf="createProjectForm.controls['titleControl'].errors?.required && createProjectForm.controls['titleControl'].touched">
                        Titlul este <strong> obligatoriu </strong>
                    </mat-error>
                </mat-form-field>
            </div>

            <div fxFlex.xs="100" fxFlex.lg="50" fxFlex.md="50" fxFlex.sm="50">
                <mat-form-field class="example-full-width">
                    <input matInput placeholder="Capacitate" formControlName="capacityControl">
                    <mat-error *ngIf="createProjectForm.controls['capacityControl'].errors?.required && createProjectForm.controls['capacityControl'].touched">
                        Introdu <strong> numarul maxim de studenti pentru acest proiect </strong>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>

        <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">
            <div fxFill>
                <mat-form-field class="example-full-width">
                    <textarea matInput placeholder="Introdu descrierea" formControlName="descriptionControl"></textarea>
                    <mat-error *ngIf="createProjectForm.controls['descriptionControl'].errors?.required && createProjectForm.controls['descriptionControl'].touched">
                        Introdu <strong> o descriere pentru acest proiect </strong>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>

        <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">
            <div fxFill>
                <mat-form-field class="example-full-width">
                    <mat-chip-list #chipList>
                        <mat-chip *ngFor="let tag of tags" [selectable]="true" [removable]="true" (remove)="remove(tag)">
                            {{tag.name}}
                            <mat-icon matChipRemove>cancel</mat-icon>
                        </mat-chip>
                        <input placeholder="Adauga tag-uri..."
                            [matChipInputFor]="chipList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]="true"
                            (matChipInputTokenEnd)="add($event)" />
                    </mat-chip-list>
                </mat-form-field>
            </div>
        </div>

        <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">
            
            <div fxFLex fxFlex.xs="100" fxFlex.lg="50" fxFlex.md="50" fxFlex.sm="50">
                <mat-form-field style="width: 80%;">
                    <input #reference (keyup.enter)="addReference(reference.value)" matInput placeholder="Adauga o referinta">
                </mat-form-field>
                <button type="button" mat-icon-button (click)="addReference(reference.value)">
                    <i class="material-icons">add</i>
                </button>
            </div>
        
            <div fxFlex.xs="100" fxFlex.lg="50" fxFlex.md="50" fxFlex.sm="50">
                <mat-list class="references-list">
                    <h3 matSubheader> Referinte </h3>
                    <mat-list-item *ngFor="let reference of references; let i = index">
                        <h4 matLine> {{reference.url}}</h4>
                        <button type="button" mat-icon-button (click)="removeReference(i)">
                            <i class="material-icons">close</i>
                        </button>
                    </mat-list-item>
                </mat-list>
            </div>
        </div>

        <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">
            <div fxFill>
                <button mat-raised-button color="primary" type="submit" [disabled]="!createProjectForm.valid">Adauga proiect</button>
            </div>
        </div>
    </form>

</div> 
